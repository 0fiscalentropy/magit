Magit v2.10.4 Release Notes (unreleased)
========================================

Changes since v2.10.3
---------------------

* The popup `magit-remote-popup' now exposes the `-f' switch for `git
  remote add', which allows the user to control whether information
  from the remote is fetched after the remote is added.  The default
  behavior is still to fetch after adding a remote (i.e., the switch
  is enabled by default).  #2997

* Added option `magit-list-refs-sortby' to allow more control over the
  order of refs in prompts.  #2872

* The Magit wrappers around the default Emacs completion functions now
  override the default behavior of alphabetically sorting choices when
  displaying them in the "*Completions*" buffer.  In repositories with
  many release tags, the new behavior prevents completion prompts from
  being dominated by version tags instead of branch names.  #2925

* The commands `magit-git-command', `magit-git-command-topdir',
  `magit-shell-command', and `magit-shell-command-topdir' now use
  `read-shell-command' to read the command.  Packages like `pcmpl-git'
  and `bash-completion' can now be used to get command-line completion
  when using these commands.  #2951

* The commands `magit-git-command' and `magit-git-command-topdir' can
  now call arbitrary commands.  The initial-value when reading the
  command is "git ", and you can remove that to call something else.
  #2951

* Added option `magit-shell-command-verbose-prompt'.  #2951

Fixes since v2.10.3
-------------------

* Rebasing was sometimes interrupted by an error about the index lock
  already being held.  This happened because VC asynchronously checks
  for files with conflict, which involved using a git command that
  grabs the lock.  Magit now redefines that VC command to use a git
  command that does not grab the lock.  #2708, debbug#21559

* The command `magit-shell-command' now uses a shell to run the command
  entered in response to the "Enter shell command" prompt.  #3007
